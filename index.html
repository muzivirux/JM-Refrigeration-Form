<!DOCTYPE html>
<html>

<head>
    <title>JM Refrigeration Form</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <!-- <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0/css/select2.min.css"> -->



</head>

<body>
    <h1>JM Refrigeration Form</h1>
    <form id="JMRefrigerationForm">
        <div class="sections">
            <h2>Ammonia compressor -40</h1>
                <label for="RSD">Total running hours /day:</label>
                <div class="RSD">
                    <input type="time" id="totalrunninghrs" name="AmmoniaCompressor-40 Total running hours/day"
                        required>
                    <!-- <label for="RSD">Remarks:</label> -->
                    <input type="text" id="remarks" name="AmmoniaCompressor-40 Remarks" required placeholder="Remarks">
                </div>
                <div class="sections">
                    <h2>Ammonia compressor -30</h1>
                        <label for="RSD">Total running hours /day:</label>
                        <div class="RSD">
                            <input type="time" id="totalrunninghrs30"
                                name="AmmoniaCompressor-30 Total running hours/day" required>
                            <!-- <label for="RSD">Remarks:</label> -->
                            <input type="text" id="remarks30" name="AmmoniaCompressor-30 Remarks" required
                                placeholder="Remarks">
                        </div>
                        <div class="sections">
                            <h2>Ammonia compressor -10</h1>
                                <label for="RSD">Total running hours /day:</label>
                                <div class="RSD">
                                    <input type="time" id="totalrunninghrs10"
                                        name="AmmoniaCompressor-10 Total running hours/day" required>
                                    <!-- <label for="RSD">Remarks:</label> -->
                                    <input type="text" id="remarks10" name="AmmoniaCompressor-10 Remarks" required
                                        placeholder="Remarks">
                                </div>
                                <div class="sections">
                                    <h2>Ammonia Condenser No1</h1>
                                        <label for="RSD">Total running hours /day:</label>
                                        <div class="RSD">
                                            <input type="time" id="totalrunninghrsAC1"
                                                name="AmmoniaCondenserNo1 Total running hours/day" required>
                                            <!-- <label for="RSD">Remarks:</label> -->
                                            <input type="text" id="remarksAC1" name="AmmoniaCondenserNo1 Remarks"
                                                required placeholder="Remarks">
                                        </div>
                                        <div class="sections">
                                            <h2>Ammonia Condenser No2</h1>
                                                <label for="RSD">Total running hours /day:</label>
                                                <div class="RSD">
                                                    <input type="time" id="totalrunninghrsAC2"
                                                        name="AmmoniaCondenserNo2 Total running hours/day" required>
                                                    <!-- <label for="RSD">Remarks:</label> -->
                                                    <input type="text" id="remarksAC2"
                                                        name="AmmoniaCondenserNo2 Remarks" required
                                                        placeholder="Remarks">
                                                </div>
                                                <div class="sections">
                                                    <h2>Day Storage Evaporator Hall Fan</h1>
                                                        <label for="RSD">Total running hours /day:</label>
                                                        <div class="RSD">
                                                            <input type="time" id="totalrunninghrsDSEHF"
                                                                name="DayStorageEvaporatorHallFan Total running hours/day"
                                                                required>
                                                            <!-- <label for="RSD">Remarks:</label> -->
                                                            <input type="text" id="remarksDSEHF"
                                                                name="DayStorageEvaporatorHallFan Remarks" required
                                                                placeholder="Remarks">
                                                        </div>
                                                        <div class="sections">
                                                            <h2>Cold Storage Evaporator No.1 Fan</h1>
                                                                <label for="RSD">Total running hours /day:</label>
                                                                <div class="RSD">
                                                                    <input type="time" id="totalrunninghrsfan1"
                                                                        name="ColdStorageEvaporatorNo1Fan Total running hours/day"
                                                                        required>
                                                                    <!-- <label for="RSD">Remarks:</label> -->
                                                                    <input type="text" id="remarksfan1"
                                                                        name="ColdStorageEvaporatorNo1Fan Remarks"
                                                                        required placeholder="Remarks">
                                                                </div>
                                                                <div class="sections">
                                                                    <h2>Cold Storage Evaporator No.2 Fan</h1>
                                                                        <label for="RSD">Total running hours
                                                                            /day:</label>
                                                                        <div class="RSD">
                                                                            <input type="time" id="totalrunninghrsfan2"
                                                                                name="ColdStorageEvaporatorNo2Fan Total running hours/day"
                                                                                required>
                                                                            <!-- <label for="RSD">Remarks:</label> -->
                                                                            <input type="text" id="remarksfan2"
                                                                                name="ColdStorageEvaporatorNo2Fan Remarks"
                                                                                required placeholder="Remarks">
                                                                        </div>
                                                                        <div class="sections">
                                                                            <h2>Cold Storage Evaporator No.3 Fan</h1>
                                                                                <label for="RSD">Total running hours
                                                                                    /day:</label>
                                                                                <div class="RSD">
                                                                                    <input type="time"
                                                                                        id="totalrunninghrsfan3"
                                                                                        name="ColdStorageEvaporatorNo3Fan Total running hours/day"
                                                                                        required>
                                                                                    <!-- <label for="RSD">Remarks:</label> -->
                                                                                    <input type="text" id="remarksfan3"
                                                                                        name="ColdStorageEvaporatorNo3Fan Remarks"
                                                                                        required placeholder="Remarks">
                                                                                </div>
                                                                                <div class="sections">
                                                                                    <h2>Cold storage Corridor Evaporator
                                                                                        Fan</h1>
                                                                                        <label for="RSD">Total running
                                                                                            hours /day:</label>
                                                                                        <div class="RSD">
                                                                                            <input type="time"
                                                                                                id="totalrunninghrsCSCE"
                                                                                                name="ColdstorageCorridorEvaporatorFan Total running hours/day"
                                                                                                required>
                                                                                            <!-- <label for="RSD">Remarks:</label> -->
                                                                                            <input type="text"
                                                                                                id="remarksCSCE"
                                                                                                name="ColdstorageCorridorEvaporatorFan Remarks"
                                                                                                required
                                                                                                placeholder="Remarks">
                                                                                        </div>
                                                                                        <div class="sections">
                                                                                            <h2>Air Compressor</h1>
                                                                                                <label for="RSD">Total
                                                                                                    running
                                                                                                    hours /day:</label>
                                                                                                <div class="RSD">
                                                                                                    <input type="time"
                                                                                                        id="totalrunninghrsairC"
                                                                                                        name="AirCompressor Total running hours/day"
                                                                                                        required>
                                                                                                    <!-- <label for="RSD">Remarks:</label> -->
                                                                                                    <input type="text"
                                                                                                        id="remarks"
                                                                                                        name="AirCompressor Remarks"
                                                                                                        required
                                                                                                        placeholder="Remarks">
                                                                                                </div>



                                                                                                <input type="submit"
                                                                                                    value="Submit">

    </form>

    <!-- spinner html -->
    <div class="spinner-container">
        <div class="spinner"></div>
    </div>
    <!-- end of spinner html -->

    <!-- Add the modal HTML code -->
    <div id="myModal" class="modal">
        <span class="close">&times;</span>
        <div class="modal-content">
            <p id="modal-message"></p>
            <button id="closeBtn">Close</button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>Copyright &copy; <a href="https://rafiqfarmfoods.com/" target="_blank"> Rafiq Farm Foods </a>| All Right
            Reserved. </p>
    </footer>
    <!-- end of Footer -->


    <!-- JavaScript -->
    <script>

        const scriptURL = 'https://script.google.com/macros/s/AKfycbz4dNwDvNk8ylKw8vvAAXfTm0zv7gy64BI-NvtyhFEYg7tfG9ZqkljDgZWNyFVQ3CO8UQ/exec';
        const form = document.getElementById("JMRefrigerationForm");

        // modal javascript
        // Get the modal element, the close button, and the close button inside the modal
        const modal = document.getElementById("myModal");
        const closeBtn = document.querySelector(".close");
        const modalCloseBtn = document.getElementById("closeBtn");


        form.addEventListener('submit', e => {
            e.preventDefault();
            modal.style.display = "block";
            fetch(scriptURL, { method: 'POST', body: new FormData(form) })
                .then(response => {
                    hideSpinner(); // Hide the spinner
                    document.getElementById("modal-message").textContent = 'Success!';
                })
                .catch(error => {
                    hideSpinner(); // Hide the spinner
                    document.getElementById("modal-message").textContent = 'Error! ' + error.message;
                });
        });
        // Close the modal when the close button is clicked
        closeBtn.addEventListener("click", () => {
            modal.style.display = "none";
        });
        // Close the modal when the close button inside the modal is clicked
        modalCloseBtn.addEventListener("click", () => {
            modal.style.display = "none";
        });

    </script>


    <!-- reseting form after submitting -->
    <script>
        document.getElementById('JMRefrigerationForm').addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent the default form submission

            // Get the form values
            var resetingForm = document.getElementById('totalrunninghrs').value;
            var email = document.getElementById('remarks').value;
            var email = document.getElementById('totalrunninghrs30').value;
            var email = document.getElementById('remarks30').value;
            var email = document.getElementById('totalrunninghrs10').value;
            var email = document.getElementById('remarks10').value;
            var email = document.getElementById('totalrunninghrsAC1').value;
            var email = document.getElementById('remarksAC1').value;
            var email = document.getElementById('remarksAC2').value;
            var email = document.getElementById('totalrunninghrsDSEHF').value;
            var email = document.getElementById('remarksDSEHF').value;
            var email = document.getElementById('totalrunninghrsfan1').value;
            var email = document.getElementById('remarksfan1').value;
            var email = document.getElementById('totalrunninghrsfan2').value;
            var email = document.getElementById('remarksfan2').value;
            var email = document.getElementById('totalrunninghrsfan3').value;
            var email = document.getElementById('remarksfan3').value;
            var email = document.getElementById('totalrunninghrsCSCE').value;
            var email = document.getElementById('remarksCSCE').value;
            var email = document.getElementById('totalrunninghrsairC').value;

            // Perform any additional validation or processing here



            // Send the form data to the server (you can use AJAX or other techniques)

            // Reset the form fields
            document.getElementById('totalrunninghrs').value = '';
            document.getElementById('remarks').value = '';
            document.getElementById('totalrunninghrs30').value = '';
            document.getElementById('remarks30').value = '';
            document.getElementById('totalrunninghrs10').value = '';
            document.getElementById('remarks10').value = '';
            document.getElementById('totalrunninghrsAC1').value = '';
            document.getElementById('remarksAC1').value = '';
            document.getElementById('remarksAC2').value = '';
            document.getElementById('totalrunninghrsDSEHF').value = '';
            document.getElementById('remarksDSEHF').value = '';
            document.getElementById('totalrunninghrsfan1').value = '';
            document.getElementById('remarksfan1').value = '';
            document.getElementById('totalrunninghrsfan2').value = '';
            document.getElementById('remarksfan2').value = '';
            document.getElementById('totalrunninghrsfan3').value = '';
            document.getElementById('remarksfan3').value = '';
            document.getElementById('totalrunninghrsCSCE').value = '';
            document.getElementById('remarksCSCE').value = '';
            document.getElementById('totalrunninghrsairC').value = '';



        });

    </script>

    <script>
        // Function to show the spinner
        function showSpinner() {
            const spinnerContainer = document.querySelector(".spinner-container");
            spinnerContainer.style.display = "flex";
            modal.style.display = "none";
        }

        // Function to hide the spinner
        function hideSpinner() {
            const spinnerContainer = document.querySelector(".spinner-container");
            spinnerContainer.style.display = "none";
            modal.style.display = "block";
        }

        // Function to handle form submission
        function handleSubmit(event) {
            event.preventDefault();
            showSpinner(); // Show the spinner


        }

        // Add event listener to form submit

        form.addEventListener("submit", handleSubmit);
    </script>

    <!-- end of for reseting after submitting -->


    <!-- end of spinner -->
</body>

</html>